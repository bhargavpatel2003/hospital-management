<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_school_student_form" model="ir.ui.view">
        <field name="name">school.student.form</field>
        <field name="model">school.student</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button class="btn btn-primary" name="send_mail_template"
                           string="Send Mail" type="object"/>
                </header>
                <sheet>

                    <!-- <group>
                        <field name="image" widget="image" class="oe_avatar"/>
                    </group> -->
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="firstname"/>
                            <field name="partner_id"/>
                        </group>
                        <group>
                             <field name="age"/>
                            <field name="age_group"/>
                            <field name="dob"/>
                            <field name="std"/>
                            <field name="email"/>
                            <field name="teacher_id"/>
                        </group>
                    </group>
                    <!-- <group>
                        <field name="name"/>
                        <field name="firstname"/>
                        <field name="partner_id"/>
                       
                    </group>         -->
                </sheet>
                <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    
   <record id="view_school_student_tree" model="ir.ui.view">
        <field name="name">school.student.tree</field>
        <field name="model">school.student</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="age"/>
                <field name="std"/>
                <field name="teacher_id"/>
            </tree>
        </field>
    </record>

    <record id="search_scholl_student" model="ir.ui.view">
        <field name="name">school.student.search</field>
        <field name="model">school.student</field>
        <field name="arch" type="xml">
            <search string="Search Student"> 

                <field name="name"/>
                <field name="std"/>

                <filter name="std_12" string="Standard 12" domain="[('std', '=', 12)]" />
                <filter name="std 10" string="Standard 10" domain="[('std','=',10)]"/>

                <group expand="0" string="Group by">
                    <filter name="group_teacher" string="Class teacher"  context="{'group_by': 'teacher_id'}" />
                    <filter name="group_std" string="Standard" context="{'group_by':'std'}"/>
                    
                </group>
            </search>
        </field>
    </record>

  
    <record id="action_school_student" model="ir.actions.act_window">
        <field name="name">Students</field>
        <field name="res_model">school.student</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="search_scholl_student"/>
        <field name="context">{'search_default_group_std':1}</field>
    </record>


    <menuitem
        id="school_root"
        name="SMS"
       />
    <menuitem
        id="school_std_menu"
        name="Student"
        parent="school_root"
        action="action_school_student"
        sequence="10"/>

</odoo>
